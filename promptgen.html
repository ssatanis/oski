<!DOCTYPE html>

<!-- Dynamic Favicon based on theme -->
<script>
function setFavicon() {
  const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const favicon = document.querySelector('link[rel="shortcut icon"]') || document.createElement('link');
  favicon.rel = 'shortcut icon';
  favicon.type = 'image/svg+xml';
  favicon.href = isDarkMode ? 'favicons/White.svg' : 'favicons/Black.svg';
  if (!document.querySelector('link[rel="shortcut icon"]')) {
    document.head.appendChild(favicon);
  }
}
setFavicon();
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setFavicon);
</script>

<link href="favicons/683d91777124b040c4a5b5db-683d91777124b040c4a5b63e_logo.png" rel="apple-touch-icon">
<style>
/* Hide Webflow badge */
.w-webflow-badge {
  display: none !important;
}

/* Seamless white gradient background throughout the page */
body {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
}

.hero, .section {
  background: transparent !important;
}

/* Remove simulation container styling for seamless integration */
.simulation-container {
  width: 100%;
  max-width: none;
  margin: 0;
  padding: 0;
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  position: relative;
  overflow: visible;
}

.simulation-container::before {
  display: none;
}

/* OSCE Video Grader Specific Styles */
.osce-container {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border-radius: 20px;
    padding: 2rem;
    margin: 2rem 0;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}

.osce-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
    align-items: start;
}

.config-panel {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 1.5rem;
    border: 1px solid rgba(255,255,255,0.2);
}

.workflow-panel {
    background: rgba(255,255,255,0.95);
    border-radius: 15px;
    padding: 1.5rem;
    color: #333;
}

.input-group {
    margin-bottom: 1.5rem;
}

.input-label {
    display: block;
    color: white;
    font-weight: 600;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.input-field, .select-field {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid rgba(255,255,255,0.3);
    border-radius: 8px;
    background: rgba(255,255,255,0.1);
    color: white;
    font-size: 0.9rem;
    box-sizing: border-box;
}

.input-field::placeholder {
    color: rgba(255,255,255,0.7);
}

.btn-primary {
    background: linear-gradient(135deg, #4CAF50, #81C784);
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 1rem;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.btn-secondary {
    background: rgba(255,255,255,0.2);
    color: white;
    border: 1px solid rgba(255,255,255,0.3);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 0.5rem;
}

.workflow-step {
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    padding: 1rem;
    margin: 0.75rem 0;
    background: #f8f9fa;
    transition: all 0.3s ease;
}

.workflow-step.active {
    border-color: #4CAF50;
    background: #f0f8f0;
    transform: translateX(5px);
}

.workflow-step.completed {
    border-color: #2196F3;
    background: #e3f2fd;
}

.step-title {
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: #333;
}

.step-description {
    font-size: 0.85rem;
    color: #666;
    line-height: 1.4;
}

.grade-display {
    text-align: center;
    padding: 2rem;
    border-radius: 15px;
    margin: 1rem 0;
    font-size: 3rem;
    font-weight: bold;
}

.grade-4 { background: linear-gradient(135deg, #4CAF50, #81C784); color: white; }
.grade-3 { background: linear-gradient(135deg, #FFC107, #FFD54F); color: #333; }
.grade-2 { background: linear-gradient(135deg, #FF9800, #FFB74D); color: white; }
.grade-1 { background: linear-gradient(135deg, #F44336, #EF5350); color: white; }
.grade-0 { background: linear-gradient(135deg, #9E9E9E, #BDBDBD); color: white; }

.evidence-card {
    background: #f0f2f6;
    border-left: 4px solid #4CAF50;
    padding: 1rem;
    margin: 0.75rem 0;
    border-radius: 8px;
}

.video-upload-area {
    border: 2px dashed rgba(255,255,255,0.5);
    border-radius: 10px;
    padding: 2rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(255,255,255,0.05);
}

.video-upload-area:hover {
    border-color: rgba(255,255,255,0.8);
    background: rgba(255,255,255,0.1);
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e0e0e0;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(135deg, #4CAF50, #81C784);
    width: 0%;
    transition: width 0.3s ease;
}

@media (max-width: 768px) {
    .osce-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

.simulation-header {
  text-align: center;
  margin-bottom: 40px;
  position: relative;
  z-index: 1;
}

.simulation-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 16px;
}

.simulation-description {
  font-size: 1.2rem;
  color: #6b7280;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Ensure consistent spacing and positioning to match home page exactly */
.hero .max-w-width {
  margin-top: 80px !important; /* Reduced from 120px to bring content higher */
}

/* Make sure the top-text positioning matches home page */
.top-text {
  margin-bottom: 20px;
}

/* Ensure proper spacing between hero and simulation */
#simulation {
  padding-top: 40px !important;
}

@media (max-width: 768px) {
  .simulation-iframe {
    height: 800px;
    border-radius: 12px;
  }
  
  .simulation-title {
    font-size: 2rem;
  }
  
  .simulation-description {
    font-size: 1rem;
  }
  
  .hero .max-w-width {
    margin-top: 60px !important;
  }
}
</style>

</head><body><div class="page-wrapper">
<!-- Centralized Header -->
<div id="header-container"></div>

<section class="hero" id="hero"><div class="container"><div class="max-w-width" style="margin-top: 80px;"><div data-w-id="cc4bc4b9-3fd8-9621-1de2-e0b7a0bf1285" style="opacity:0" class="top-text">Interactive Demo</div><h1 data-w-id="6b4f9255-2b7e-e6bc-76d5-b0e49087b85c" style="opacity:0" class="display-1">Transform OSCE rubrics into <span class="other-font">AI-ready prompts</span>.</h1><div class="margin-20"><p data-w-id="b90b02c7-115c-c062-22d1-a988e276c1cf" style="opacity:0" class="p-02">Upload rubric documents and convert them into structured YAML prompts with intelligent OCR processing.</p></div><div data-w-id="4c25a1b6-df10-f474-31b4-08ca1d59a136" style="opacity:0" class="margin-30"><div class="button-flex center-mobile"><a data-w-id="808f99a7-6144-0b76-f91d-d0f0d0481c64" href="#simulation" class="button-first w-inline-block"><div class="txt-wrapper"><div style="-webkit-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="button-txt">Get Started</div><div style="-webkit-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="button-txt">Get Started</div></div></a></div></div></div><img src="images/683d91777124b040c4a5b5db-683f0802c2111b8ce7b802dd_shape-1.webp" loading="lazy" width="500" sizes="(max-width: 767px) 100vw, 500px" alt="" srcset="https://cdn.prod.website-files.com/683d91777124b040c4a5b5db/683f0802c2111b8ce7b802dd_shape-1-p-500.webp 500w, https://cdn.prod.website-files.com/683d91777124b040c4a5b5db/683f0802c2111b8ce7b802dd_shape-1-p-800.webp 800w, https://cdn.prod.website-files.com/683d91777124b040c4a5b5db/683f0802c2111b8ce7b802dd_shape-1-p-1080.webp 1080w, https://cdn.prod.website-files.com/683d91777124b040c4a5b5db/683f0aa9ed4f9367dd6c8ff1_shape-2.webp 1674w" class="shape-1"></section>

<section id="simulation" style="padding: 40px 0 80px 0;">
  <div class="container">
    <!-- Simulation Header -->
    <div class="simulation-header" style="text-align: center; margin-bottom: 3rem;">
      <h2 class="simulation-title" style="font-size: 2.5rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem;">ðŸ“„ Rubrics to Prompts Converter</h2>
      <p class="simulation-description" style="font-size: 1.1rem; color: #6b7280; max-width: 600px; margin: 0 auto;">AI-Powered OCR Processing & YAML Generation Framework</p>
    </div>
    
    <!-- Rubrics to Prompts Container -->
    <div class="r2p-container" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-radius: 20px; padding: 2rem; margin: 2rem 0; box-shadow: 0 20px 40px rgba(0,0,0,0.1);">
      <iframe 
        src="http://localhost:3000" 
        width="100%" 
        height="800" 
        frameborder="0" 
        style="border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
      </iframe>
    </div>
    
    <div class="simulation-credit">
      <p style="text-align: center; margin-top: 20px; font-size: 0.9rem; color: #666; font-style: italic;">Created by Sahaj Satani & Aarash Zakeri</p>
    </div>
  </div>
</section>

<!-- Centralized Footer -->
<div id="footer-container"></div>

</div>

<!-- Load centralized header and footer -->
<script src="js/header.js"></script>
<script src="js/footer.js"></script>

<!-- OSCE Video Assessment System JavaScript -->
<script>
// Global variables
let uploadedVideoFile = null;
let assessmentInProgress = false;

// Video upload handling
function handleVideoUpload(input) {
    const file = input.files[0];
    if (file) {
        uploadedVideoFile = file;
        const videoPreview = document.getElementById('videoPreview');
        const uploadedVideo = document.getElementById('uploadedVideo');
        const videoName = document.getElementById('videoName');
        const indexingStatus = document.getElementById('indexingStatus');
        const videoSelection = document.getElementById('videoSelection');
        
        // Create URL for video preview
        const videoURL = URL.createObjectURL(file);
        uploadedVideo.src = videoURL;
        videoName.textContent = `ðŸ“¹ ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
        videoPreview.style.display = 'block';
        
        // Simulate video indexing process
        setTimeout(() => {
            indexingStatus.style.display = 'block';
            
            // Enable video selection dropdown and add the uploaded video
            videoSelection.disabled = false;
            videoSelection.innerHTML = `
                <option value="${file.name}">${file.name}</option>
                <option value="sample_greeting.mp4">sample_greeting.mp4 (Demo)</option>
                <option value="sample_examination.mp4">sample_examination.mp4 (Demo)</option>
                <option value="sample_communication.mp4">sample_communication.mp4 (Demo)</option>
            `;
            videoSelection.value = file.name;
        }, 2000);
    }
}

// Start assessment simulation
function startAssessment() {
    const videoSelection = document.getElementById('videoSelection');
    const rubricQuestion = document.getElementById('rubricQuestion').value.trim();
    
    if (!videoSelection.value) {
        alert('Please upload and select a video file first!');
        return;
    }
    
    if (!rubricQuestion) {
        alert('Please enter a rubric question!');
        return;
    }
    
    if (assessmentInProgress) {
        return;
    }
    
    assessmentInProgress = true;
    
    // Show progress container
    const progressContainer = document.getElementById('progressContainer');
    progressContainer.style.display = 'block';
    
    // Reset all steps
    const steps = ['planner', 'executor', 'scorer', 'reflector', 'consensus'];
    steps.forEach(step => {
        const element = document.getElementById(`step-${step}`);
        element.className = 'workflow-step';
    });
    
    // Hide results
    document.getElementById('resultsContainer').style.display = 'none';
    
    // Simulate workflow progression
    simulateWorkflow(steps, 0);
}

// Simulate workflow steps
function simulateWorkflow(steps, currentStep) {
    if (currentStep >= steps.length) {
        // Assessment complete
        displayResults();
        assessmentInProgress = false;
        return;
    }
    
    const step = steps[currentStep];
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    
    // Mark current step as active
    document.getElementById(`step-${step}`).className = 'workflow-step active';
    progressText.textContent = `Processing ${step}...`;
    
    // Update progress
    const progress = (currentStep + 1) / steps.length * 100;
    progressFill.style.width = `${progress}%`;
    
    // Simulate processing time
    setTimeout(() => {
        // Mark as completed
        document.getElementById(`step-${step}`).className = 'workflow-step completed';
        
        // Move to next step
        setTimeout(() => {
            simulateWorkflow(steps, currentStep + 1);
        }, 500);
    }, 2000 + Math.random() * 1000);
}

// Display assessment results
function displayResults() {
    const resultsContainer = document.getElementById('resultsContainer');
    const progressText = document.getElementById('progressText');
    
    progressText.textContent = 'Assessment complete!';
    
    // Get all configuration values
    const config = {
        video: document.getElementById('videoSelection').value,
        rubric: document.getElementById('rubricQuestion').value,
        clipModel: document.getElementById('clipModel').value,
        clapModel: document.getElementById('clapModel').value,
        llmModel: document.getElementById('llmModel').value,
        topKKeyframes: document.getElementById('topKKeyframes').value,
        topKAudio: document.getElementById('topKAudio').value,
        confidence: document.getElementById('confidenceThreshold').value,
        temperature: document.getElementById('temperature').value,
        maxTokens: document.getElementById('maxTokens').value
    };
    
    // Generate realistic results based on configuration
    const results = generateResults(config);
    
    // Update grade display
    const gradeDisplay = document.getElementById('gradeDisplay');
    const gradeValue = document.getElementById('gradeValue');
    gradeDisplay.className = `grade-display grade-${results.grade}`;
    gradeValue.textContent = `${results.grade}/5`;
    
    // Update evidence
    document.getElementById('rationale').textContent = results.rationale;
    document.getElementById('audioEvidence').textContent = results.audioEvidence;
    document.getElementById('videoEvidence').textContent = results.videoEvidence;
    
    // Show results
    resultsContainer.style.display = 'block';
}

// Generate realistic assessment results
function generateResults(config) {
    const questionLower = config.rubric.toLowerCase();
    const videoName = config.video;
    
    let grade, rationale, audioEvidence, videoEvidence;
    
    // Generate results based on rubric and model configuration
    if (questionLower.includes('greet')) {
        grade = config.llmModel.includes('GPT-4') ? 4 : 3;
        rationale = `Using ${config.llmModel} with ${config.clipModel} and ${config.clapModel}, the student demonstrated ${grade === 4 ? 'excellent' : 'good'} greeting behavior. Analysis used ${config.topKKeyframes} keyframes and ${config.topKAudio} audio segments with ${config.confidence} confidence threshold.`;
        audioEvidence = `${config.clapModel} Audio Analysis: "Good morning, I'm Sarah, a third-year medical student. How are you feeling today?" (Confidence: ${(parseFloat(config.confidence) + 0.1).toFixed(1)})`;
        videoEvidence = `${config.clipModel} Visual Analysis: Keyframes ${config.topKKeyframes}/20 show sustained eye contact, professional posture, appropriate gestures. Temperature: ${config.temperature}`;
    } else if (questionLower.includes('stethoscope') || questionLower.includes('examination')) {
        grade = 3;
        rationale = `Multi-modal assessment using ${config.clipModel} + ${config.clapModel} + ${config.llmModel} detected proper stethoscope technique. Processing ${config.topKKeyframes} keyframes and ${config.topKAudio} audio segments.`;
        audioEvidence = `${config.clapModel} detected stethoscope placement sounds at 00:45, 01:12, 01:38 with confidence scores above ${config.confidence}`;
        videoEvidence = `${config.clipModel} analysis of ${config.topKKeyframes} keyframes confirms correct hand positioning and chest placement technique`;
    } else if (questionLower.includes('communication') || questionLower.includes('explain')) {
        grade = config.temperature < 0.5 ? 4 : 3;
        rationale = `${config.llmModel} (temp: ${config.temperature}, tokens: ${config.maxTokens}) assessed communication skills using multimodal evidence from ${config.clipModel} and ${config.clapModel}`;
        audioEvidence = `${config.clapModel} transcript analysis: Clear explanations, appropriate medical terminology, empathetic tone detected in ${config.topKAudio} segments`;
        videoEvidence = `${config.clipModel} behavioral analysis: Appropriate eye contact, open body language, patient-focused positioning across ${config.topKKeyframes} keyframes`;
    } else {
        grade = 3;
        rationale = `Comprehensive assessment using ${config.clipModel}, ${config.clapModel}, and ${config.llmModel}. Analyzed ${config.topKKeyframes} keyframes and ${config.topKAudio} audio segments with ${config.confidence} confidence threshold.`;
        audioEvidence = `${config.clapModel} detected appropriate verbal communication patterns and professional language use in selected audio segments`;
        videoEvidence = `${config.clipModel} visual analysis shows consistent professional behavior and adherence to clinical protocols`;
    }
    
    // Add model-specific details
    const modelDetails = `\n\nModel Configuration: ${config.clipModel} + ${config.clapModel} + ${config.llmModel} | Keyframes: ${config.topKKeyframes} | Audio: ${config.topKAudio} | Confidence: ${config.confidence} | Temp: ${config.temperature}`;
    
    return { 
        grade, 
        rationale: rationale + modelDetails,
        audioEvidence: audioEvidence + ` | Video: ${videoName}`,
        videoEvidence: videoEvidence + ` | Processing: ${config.maxTokens} max tokens`
    };
}

// Reset assessment
function resetAssessment() {
    assessmentInProgress = false;
    
    // Hide progress and results
    document.getElementById('progressContainer').style.display = 'none';
    document.getElementById('resultsContainer').style.display = 'none';
    
    // Reset all steps
    const steps = ['planner', 'executor', 'scorer', 'reflector', 'consensus'];
    steps.forEach(step => {
        const element = document.getElementById(`step-${step}`);
        element.className = 'workflow-step';
    });
    
    // Reset progress
    document.getElementById('progressFill').style.width = '0%';
    document.getElementById('progressText').textContent = 'Ready to begin assessment...';
}
</script>

<script src="js/js-jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="js/js-webflow.schunk.36b8fb49256177c8.js" type="text/javascript"></script><script src="js/js-webflow.schunk.4bcee8dc3a55ab3d.js" type="text/javascript"></script><script src="js/js-webflow.965f2b6a.2a699015d3217d92.js" type="text/javascript"></script></body></html> 